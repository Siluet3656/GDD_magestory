# Mage Story - GDDv0.8
***
## Содержание
1. [Жанр](#title1)
2. [Синопсис](#title2)
3. [Управление](#title3)
4. [Стиль](#title4)
5. [Системы и механики](#title5)
6. [Прогрессия](#title6)
7. [Параметры](#title7)
8. [Сюжет и диалоги](#title8)
9. [Дизайн](#title9)
10. [Интерфейс](#title10)
***
## <a id="title1">Жанр</a>

Action RPG, Roguelike с target боёвкой, метроидвания. Ref: Rabbit&Steel, The binding of Issac, Cult of the lumb.

---
## <a id="title2">Синопсис</a>
Могущественный маг был заточен в подземелье. Его силы были разбросаны по подземелью.
Выход охраняется слишком сильным врагом для его текущего положения. 
Он вынужден исследовать подземелье перед тем как сразится (но может бросить вызов хоть с самого начала).

---
## <a id="title3">Управление</a>
### Клавиатура 
1. Движение вперёд (вверх) - <kbd>W</kbd>
2. Движение вбок (лево) - <kbd>A</kbd>
3. Движение вбок (право) - <kbd>D</kbd>
4. Движение назад (вниз) - <kbd>S</kbd>
5. Ячейка 1 - <kbd>1</kbd>
6. Ячейка 2 - <kbd>2</kbd>
7. Ячейка 3 - <kbd>3</kbd>
8. Ячейка 4 - <kbd>4</kbd>
9. Ячейка 5 - <kbd>5</kbd>
10. Ячейка 6 - <kbd>6</kbd>
11. Ячейка 7 - <kbd>7</kbd>
12. Дэш - <kbd>Space</kbd>
13. Отмена каста - <kbd>X</kbd>
14. Выбрать цель - <kbd>Mouse0</kbd>
15. Отменить выбор цели - <kbd>Mouse1</kbd>
16. Быстрая смена цели - <kbd>Tab</kbd>
17. Меню - <kbd>Esc</kbd>
18. Действие - <kbd>E</kbd>
19. Книга заклинаний - <kbd>T</kbd>
20. Логи диалогов - <kbd>L</kbd>
21. Мысли - <kbd>Q</kbd>
### Клавиатура альт.
1. Движение вперёд (вверх) - <kbd>Arrow UP</kbd>
2. Движение вбок (лево) - <kbd>Arrow LEFT</kbd>
3. Движение вбок (право) - <kbd>Arrow RIGHT</kbd>
4. Движение назад (вниз) - <kbd>Arrow DOWN</kbd>
5. Ячейка 1 - <kbd>RCtrl</kbd>
6. Ячейка 2 - <kbd>Enter</kbd>
7. Ячейка 3 - <kbd>Delete</kbd>
8. Ячейка 4 - <kbd>End</kbd>
9. Ячейка 5 - <kbd>Page Down</kbd>
10. Ячейка 6 - <kbd>RShift</kbd>
11. Ячейка 7 - <kbd>/</kbd>
12. Дэш - <kbd>Num 0</kbd>
13. Отмена каста - <kbd>Num 1</kbd>
14. Выбрать цель - <kbd>Mouse0</kbd>
15. Отменить выбор цели - <kbd>Mouse1</kbd>
16. Быстрая смена цели - <kbd>Num 2</kbd>
17. Меню - <kbd>Esc</kbd>
18. Действие - <kbd>'</kbd>
19. Книга заклинаний - <kbd>Num 9</kbd>
20. Логи диалогов - <kbd>L</kbd>
### Геймпад икскоробка
### Геймпад сосони
---
## <a id="title4">Стиль</a>
- Средневековое фэнтези, дарк фэнтези. Мрачное настроение. Графика рисованная.
- Главный герой маг.
- Противники различные монстры из фентези (возможно мимики). Выпадает золото/расходники.
- Магазин для расходников, диалоги с торговцем.
- Главный босс стражник (возможно тоже маг, но может выглядеть не как маг).
- Вариативность прохождения. 3 локи. Каждая даст бафф к чему-то + способности. У каждой локи свой стиль, соответствующий своей стихии.
- Возрождение на контрольных точках. На возрождение тратится ресурс.
- Бой с боссом (1). Возможность сразится с ним в любой момент. Босс см. выше.
- ММО боёвка(таргетная + GCD). Вид с верху(Topdown). Способности на кнопки, книга способностей с возможностью выставить n способностей на панель. 

---
## <a id="title5">Системы и механики</a>
### Основные
1. Система ХП
  - механика получения урона (применима как к персонажу, так и ко всем врагам)
  - механика восстановления здоровья: через способности, через магазин(зелье здоровья)
  - механика оверхп: "щит" в виде дополнительного здоровья поверх основного.
2. Система передвижения
  - базовое движение
  - порядки скоростей: нет, медленно, обычно, быстро
  - дэш (блинк). Имеет КД, совершается в движении.
  - замедление движения при касте
4. Система денег
  - сбор денег
  - магазин
5. Таргет система
  - для применения большинства заклинаний, необходимо выбрать цель
  - цель выбирается на лкм, либо специальной кнопкой быстрого выбора цели
  - цель сбрасывается, если отойти слишком далеко или нажать лкм в пустое пространство
  - если сменить цель во время каста, заклинание продолжит кастоваться в изначальную цель.
6. Диалоги
  - разговоры с торговцем.
  - мысли ГГ о происходящем.
  - логи всего вышеперечисленного.
7. Предметы
  - Покупаются у торговца и дают билеты: за билеты берутся особые заклинания.
### Тэги заклинаний
- умеренный радиус: радиус мили атаки.
- малый радиус: 0.5х у.р.
- большой радиус: 2х у.р.
- огромный радиус: 3х у.р.
- окоченение: скорость передвижения ниже на 1 порядок (медленные не могут двигаться).
- отравление: наносит урон раз в тик n тиков, m длительность.
- воззвать к стихии: даёт шард, соответствующий стихии последнего стихийного заклинания(если такое было).
- перегрев: Невозможно произносить огненные заклинания, пока активен. Мгновенное применение любой морозной способности пока активен. Эффект пропадает после использования способности.
- рана: пораженный противник получает дополнительно n урона при получении любого другого (кроме урона самого эффекта).
- пламенная аура: увеличивает вероятность критической атаки любым огненным заклинанием.
- безмолвие: не даёт цели применять заклинание в течении n секунд.
- огненная метка: Если отмеченная цель получит критический урон наносит урон всем врагам в большом радиусе вокруг неё.
- заморозка: делает цель неуязвимой к получению урона. невозможно совершать действия, пока активно.
- заражение: наносит n урона (при наложении, после раз в секунду). После каждого тика урона имеет шанс, равный шансу  получить крит удар на передачу этого эффекта случайной цели в небольшом радиусе вокруг(кроме целей под этим эффектом). При передаче длительность сокращается вдвое.
- быстрое мышление: уменьшает ГКД на n секунд.
- корни: делает невозможным передвижение, но цель продолжает получать урон.
- корневой центр: делает невозможным передвижение, но цель исцеляется на P% от урона, наносимого целям в "корнях" в большом радиусе вокруг цели.
### Система заклинаний
Для каста необходимо вынести скилл из книги на панель. После нажать соответствующий кейбинд на панели. При касте скорость движения меньше. Отмена каста по кнопке. Арканумы - мощные заклинания с кулдаунами и большей стоимостью.
#### Заклинания
- Огонь:
  1. фаерболл: наносит урон выбранной цели и в радиусе вокруг неё.
  2. взрыв: наносит урон в радиусе вокруг заклинателя. Стихия: огонь.  Мгновенное.
  3. огненная стена: создаёт стену огня в выбранной области. При касании стена наносит урон.
  4. огненный дух: призывает облако огня, которое медленно движется в сторону ближайшего противника и взрывается, если соприкоснётся с ним. Самоуничтожается через m секунд, если не найдёт цель.
  5. огненный луч: испускает луч огненной энергии в цель, нанося огромный урон.
  6. пламенная аура: накладывает на заклинателя эффект "пламенная аура".  Мгновенное.
  7. огненная метка: накладывает на цель эффект "огненная метка".
- Холод:
  1. морозный вихрь: наносит точечный урон выбранной цели и накладывает окоченение.
  2. буря: накладывает окоченение на всех врагов в огромном радиусе вокруг заклинателя. Мгновенное.
  3. глубокая заморозка: накладывает на вас эффект "заморозка".  Мгновенное.
  4. сосульки: стреляет n снарядов в цель.
  5. вытягивание энергии: накладывает выбранную цель эффект "заморозка".
  6. морозный панцирь: даёт n оверхп.
  7. глыба: после долгого каста выпускает огромную ледяную глыбу в вашу цель, которая наносит огромный урон и разлетается на осколки (1 осколок за каждого противника в радиусе, максимум m). Суммарный урон всех осколков равен урону глыбы.
- Земля:
  1. шип: наносит урон выбранной цели и накладывает отравление. Нанесёт тем больше основного урона, чем больше на цели негативных эффектов.
  2. щит земли: защищает от урона (n атак), пока активен.
  3. чумная зона: обновляет негативные эффекты на противниках в этой зоне.  Мгновенное
  4. природная сила: восстанавливает здоровье заклинателя или выбранной цели, если она союзная.
  5. заражение: "заражает" выбранную цель.  Мгновенное
  6. цветок: призывает на помощь союзника-цветка, который атакует "шипом" ближайшую цель в большом радиусе.
  7. гнев природы: накладывает "корневой центр" на цель и "корни" на врагов в большом радиусе вокруг цели.
- Нейтрал:
  1. вспышка: наносит точечный урон выбранной цели. Мгновенное.
  2. магическая стрела: наносит урон выбранной цели, взывает к стихии.
  3. поглощение остатка: поглощает n остатка, восстанавливая m здоровья и оверхп, если оно имеется. Мгновенное.
  4. острый диск: стреляет снарядом в противника, накладывает эффект рана.
  5. сайленс: накладывает на цель "безмолвие".  Мгновенное
  6. кристалл: призывает кристалл, который выпускает очередь "вспышек" в случайные цели в области.
  7. быстрое мышление: накладывает на заклинателя "быстрое мышление".  Мгновенное.
- Прочее:
  1. возложение рук: восстанавливает здоровье выбранной цели и себе.
  2. хил-зона: восстанавливает ХП всем союзникам в малом радиусе.
#### Ресурсы и особенности
1. Шарды: Для применения заклинаний соответствующей стихии (при трате дают n остатка).
2. Остаток: Тратится на заклинания без стихии. Пропадает со временем.
3. Огненная стихия: 2 критических заклинания подряд (любые этой стихии) вызовут эффект перегрев.
4. Морозная стихия: вы можете применять заклинания стихии "холод", находясь под эффектом "заморозка".
5. Нейтральная стихия: дает n остатка в секунду за каждого врага в большом радиусе вокруг вас.
6. Земляная стихия: наложение негативного эффекта (любой стихии) взывает к стихии.
### Тэги противников
- Медленный: скорость врага меньше, чем у игрока
- Обычный: скорость врага равна игроку
- Быстрый: скорость врага больше игрока
- Живучий: ХП существенно больше, чем у остальных врагов
- Мили: атакует в мили
- Рэнжевик: атакует с ренжа
- Кастер: использует заклинание для атаки (одно  указать)
- Мультикастер: использует комбинацию заклинаний для атаки (по заданной ротации указать)
- Лекарь: использует заклинание для лечения (одно  указать)
- Мультилекарь: использует комбинацию заклинаний для лечения (по заданной ротации указать)
- Камикадзе: самоуничтожается при касании с игроком
- Группируется: держится близко с остальными
- Спердаутчел: держится на расстоянии от остальных
- Саммонер: способен вызывать других противников (оного указать)
### Противники
1. заключенный: Медленный, Мили
2. чёрт: Обычный, Мили, Группируется
3. ифрит: Медленный, Кастер, Группируется  (фаерболл)
4. снеговик: Обычный, Мили, Спердаутчел
5. йети: Быстрый, Мили, Группируется
6. голем: Медленный, Мили, Кастер
7. трент: Обычный, Кастер  (шип)
8. пикси: Быстрый, Мультикастер, Спердаутчел  (блинк -> шип -> блинк)
9. охотник: Обычный, Рэнжевик
10. робот: Медленный, Рэнжевик, Группируется
11. эльф: Быстрый, Рэнжевик
12. огр-маг: Обычный, Живучий, Мультикастер  (фаерболл -> шип -> магическая стрела)
13. древний рыцарь: Быстрый, Мили, Живучий, Спердаутчел
14. шаман: Медленный, Лекарь  (природная сила)
15. паладин: Медленный, Лекарь, Живучий, Группируется  (возложение рук)
16. мед-дрон: Быстрый, Лекарь  (хил-зона)
17. вихрь: Быстрый, Камикадзе
18. кентавр: Обычный, Рэнжевик, Спердаутчел
19. дрон-камикадзе: Медленный, Камикадзе, Живучий
20. сумасшедший маг: Обычный, Мультикастер, Группируется  (фаерболл/морозный вихрь/шип -> магическая стрела)
### Босс
Для победы нужно снести всё ХП боссу. Фазы зависят ТОЛЬКО от времени. полоска ХП одна единственная.
#### Атаки
- Зона пламени: вокруг босса в умеренном радиусе возникает круг пламени, наносящий n урона в секунду.
- Столб пламени: на месте игрока появляется зона малого радиуса, через m секунд на этом месте появится столб пламени, наносящий k урона.
- Сфера анегиляции: босс заряжает атаку n секунд, после чего появляется сфера. Сфера медленно преследует игрока и самоуничтожается при соприкосновении с любым существом или предметом, нанося ОГРОМНЫЙ урон.
- Сферы защиты: каждые n секунд босс спавнит сферу в случайной точке комнаты, сфера имеет ХП. За каждую сферу урон по боссу уменьшается на m%. Сферы не исчезают по таймеру или после смены фазы. Разрушение сферы наносит урон игроку в глобальном радиусе.
- Сферы ускорения: босс быстро спавнит в случайных точках комнаты сферы. Каждая сфера даёт скорость произнесения заклинаний боссу (n% за сферу). Разрушение сферы ускоряет скорость каста гг (эффект не складывается, лишь обновляется при ломании новой сферы).
- Вынужденная защита: босс быстро спавнит n сфер защиты в одной точке.
- Буря: босс создает зоны, в которых через n секунд происходит взрыв, а на их месте возникает купол. После этого начинается атака длительностью m секунд. Наносится глобальный урон всем существам в комнате, безопасные от урона зоны - внутри купола.
- магический обстрел: босс заряжает атаку в конусной области n секунд. После этого начинает выпускать снаряды во все цели в этой области (m снарядов в секунду с k урона).
- лезвия: создаёт 2 лезвия, разделяя комнату на 4 части. Лезвия крутятся по/против часовой стрелке, нанося урон при соприкосновении.
#### Адды
1. начальник стражи: Медленный, Живучий, Мили
2. рядовой стражник: Обычный, Мили
3. стражник-лучник: Обычный, Рэнжевик
4. стражник-маг: Обычный, Кастер  (фаерболл/морозный вихрь/шип)
5. стражник-лекарь: Обычный, Лекарь  (природная сила)
6. стражник-призыватель: Обычный, Саммонер, Спердаутчел  (ифрит)
### Магазин и предметы
- В магазине есть 2 раздела: с предметами и скиллами
### Система мыслей
При нажатии кнопки "мысли" появляются сообщения на экране.
- Подсказки через систему мыслей
- Сюжет через систему мыслей
- Прочие мысли
---
## <a id="title6">Прогрессия</a>
0. Основные положения:
    - Заклинания открываются в локациях (находятся + арканум в конце локи и арканумы в магазине). 
    - Карта с прогрессией зачистки.
2. Стартовая локация:
    - Противники:
      - заключенный
      - охотник
      - паладин
    - Окружение:
      - Тюремные вещи, каменные стены
    - Цель и проходы:
      - начало игры, обучение
      - проход к боссу
      - проходы во все побочные
      - торговец
2. Финальная локация (комната босса):
    - Противники:
      - Босс(стражник)
    - Окружение:
      - Дверь
      - Пыточные механизмы
    - Цель и проходы:
3. Огненные залы:
    - Противники:
      - ифрит
      - черт
      - огр-маг
      - сумасшедший маг
    - Окружение:
    - Цель и проходы:
      - огненные заклинания
      - проход в стартовую зону
4. Морозные залы:
    - Противники:
      - снеговики
      - йети
      - робот
      - мед-дрон
    - Окружение:
    - Цель и проходы:
       - ледяные заклинания
       - проход в стартовую зону
5. Земляные залы:
    - Противники:
      - големы
      - тренты
      - шаман
      - кентавр
      - эльф
    - Окружение:
      - Лианы, цветы
    - Цель и проходы:
       - природные заклинания
       - проход в стартовую зону

---
## <a id="title7">Параметры</a>
1. Параметры ГГ
  - ХП: 100
  - Шарды: 2 о., 2 м., 2 з.
  - Остаток: 100
  - скорость: 5 ю/сек
  - скорость при касте: 2 ю/сек
  - откат дэша: 5сек.
  - гкд: 1.5 сек
  - дистанция для выбора цели: 10
3. Параметры противников
  - заключенный: ХП: 200, урон: 20, время атаки: 3сек
  - чёрт:  ХП: 300, урон: 25, время атаки: 3сек
  - ифрит: ХП: 400, время атаки: 5сек
  - снеговик: ХП: 400, урон: 15, время атаки: 2сек
  - йети: ХП: 400, урон: 40, время атаки: 4сек
  - голем: ХП: 450, урон: 35, время атаки: 4сек
  - трент: ХП: 500, урон: 40, время атаки: 5сек
  - пикси: ХП: 100, время атаки: 2сек
  - охотник: ХП: 200, урон: 15, время атаки: 2сек
  - робот: ХП: 300, урон: 25, время атаки: 3сек
  - эльф: ХП: 300, урон: 20, время атаки: 3сек
  - огр-маг: ХП: 800, время атаки: 3сек
  - древний рыцарь: ХП: 800, урон: 35, время атаки: 3.5сек
  - шаман: ХП: 300, время атаки: 4сек
  - паладин: ХП: 800, время атаки: 6сек
  - мед-дрон: ХП: 450, время атаки: 2сек
  - вихрь: ХП: 350, урон: 80
  - кентавр: ХП: 500, урон: 25, время атаки: 3.5сек
  - дрон-камикадзе: ХП: 800, урон: 100
  - сумасшедший маг: ХП: 100, время атаки: 1.5сек
4. Параметры заклинаний
 - Огонь:
  1. фаерболл: урон: стоимость: кд: каст:
  2. взрыв: урон: стоимость: кд: каст:
  3. огненная стена: урон: стоимость: кд: каст:
  4. огненный дух: урон: стоимость: кд: каст:
  5. огненный луч: урон: стоимость: кд: каст:
  6. пламенная аура: урон: стоимость: кд: каст:
  7. огненная метка: урон: стоимость: кд: каст:
- Холод:
  1. морозный вихрь: урон: стоимость: кд: каст:
  2. буря: урон: стоимость: кд: каст:
  3. глубокая заморозка: урон: стоимость: кд: каст:
  4. сосульки: урон: стоимость: кд: каст:
  5. вытягивание энергии: урон: стоимость: кд: каст:
  6. морозный панцирь: урон: стоимость: кд: каст:
  7. 
- Земля:
  1. шип: урон: стоимость: кд: каст:
  2. щит земли: урон: стоимость: кд: каст:
  3. чумная зона: урон: стоимость: кд: каст:
  4. природная сила: урон: стоимость: кд: каст:
  5. заражение: урон: стоимость: кд: каст:
  6. цветок: урон: стоимость: кд: каст:
  7. 
- Нейтрал:
  1. вспышка: урон: стоимость: кд: каст:
  2. магическая стрела: урон: стоимость: кд: каст:
  3. поглощение остатка: урон: стоимость: кд: каст:
  4. острый диск: урон: стоимость: кд: каст:
  5. сайленс: урон: стоимость: кд: каст:
  6. 
  7.
5. Параметры шардов
  - о.ш: даёт 20 ост. рефреш: 10 сек.
  - м.ш: даёт 20 ост. рефреш: 10 сек.
  - з.ш: даёт 20 ост. рефреш: 10 сек.
6. Параметры босса
  - ХП: 20000
  - атака1
7. Фазы босса
- фаза 1: Зона пламени, столб пламени. Длительность: 15 секунд
- фаза 2:- 
8. Магазин и предметы:
 - 
9. Параметры эффектов:
- окоченение: длительность:
- отравление: длительность: тики: урон/тик:
- воззвать к стихии: длительность:
- перегрев: длительность:
- рана: длительность: урон/прок:
- пламенная аура: длительность: множитель:
- безмолвие: длительность:
- огненная метка: длительность: множитель:
- заморозка: длительность:
- заражение: длительность: урон: множитель:
- быстрое мышление: длительность: уменьшение:
---
## <a id="title8">Сюжет и диалоги</a>
Некогда великий волшебник Ярикус был пойман за злые деяния и помешён под стражу в особо строгих условиях. Его силы контролируются силами 3х сфер. Пока сферы активны, его силы ограничены, а память стёрта. Сферы хранятся в 3х разных залах и охраняются силами, запечатанными в сами сферы, т.к. они, похоже, свели с ума существ, поставленных на охрану. Сам маг, скованный цепями, находится в одной из основных комнат и не может ничего сделать. Пока однажды неведомая сила не даёт ему шанс... а потом ещё один...

Торговец - давний знакомый гг, Кентози, прибыл что бы спа... продавать товары по завышенным ценам.

---
## <a id="title9">Дизайн</a>
![forward](https://github.com/user-attachments/assets/2dc241ed-0820-4905-8f59-49722599f67e)
![back](https://github.com/user-attachments/assets/c4ef139a-20fe-47e4-89d9-7e9e4c3c455d)

---
## <a id="title10">Интерфейс</a>
